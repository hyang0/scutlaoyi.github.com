<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>C++学习(一):白书基础总结</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="laoyi">

    <!-- Le styles -->
    <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">

    <link href="/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">

    <link href="/" type="application/atom+xml" rel="alternate" title="老逸的个人站 ATOM Feed" />
    <link href="/feeds/all.rss.xml" type="application/atom+xml" rel="alternate" title="老逸的个人站 RSS Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">老逸的个人站 </a>
          <div class="nav-collapse">
            <ul class="nav">
                <li><a href="/pages/about.html">About</a></li>
                          <li class="divider-vertical"></li>
                  <li class="active">
                    <a href="/category/cpp.html">
						<i class="icon-folder-open icon-large"></i>Cpp
					</a>
                  </li>
                  <li >
                    <a href="/category/git.html">
						<i class="icon-folder-open icon-large"></i>git
					</a>
                  </li>
                  <li >
                    <a href="/category/life.html">
						<i class="icon-folder-open icon-large"></i>Life
					</a>
                  </li>
                  <li >
                    <a href="/category/linux.html">
						<i class="icon-folder-open icon-large"></i>Linux
					</a>
                  </li>
                  <li >
                    <a href="/category/mobile.html">
						<i class="icon-folder-open icon-large"></i>Mobile
					</a>
                  </li>
                  <li >
                    <a href="/category/python.html">
						<i class="icon-folder-open icon-large"></i>Python
					</a>
                  </li>
                  <li >
                    <a href="/category/tools.html">
						<i class="icon-folder-open icon-large"></i>Tools
					</a>
                  </li>
                  <li >
                    <a href="/category/web.html">
						<i class="icon-folder-open icon-large"></i>web
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to C++学习(一):白书基础总结">
                                        C++学习(一):白书基础总结
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2014-01-31T16:30:00">
        <i class="icon-calendar"></i>Fri 31 January 2014
</abbr>
<span class="label">By</span>
<a href="/author/laoyi.html"><i class="icon-user"></i>laoyi</a>
<span class="label">Category</span>
<a href="/category/cpp.html"><i class="icon-folder-open"></i>Cpp</a>.


<span class="label">Tags</span>
	<a href="/tag/cc.html"><i class="icon-tag"></i>C/C++</a>
</footer><!-- /.post-info -->                </div>
                <p>装完Arch Linux最近开始复习一下C++和数据结构，为下学期做好准备。</p>
<p>用白书刷一些简单的题目复习基本语法，发现自己太不注重基本的东西了，之前瞎搞ACM的时候也是，好多方便有效的工具都不认识。</p>
<p>因此记录一下标准库的一些基本的工具和输入输出的简单总结。</p>
<p>本篇主要记录一些C语言的常用工具。</p>
<div class="section" id="id1">
<h2>输入输出及文件操作</h2>
<p><strong>scanf</strong></p>
<blockquote>
<p>这货读取输入并对相应的内存地址赋值。
分割符是空格、回车及制表符等。</p>
<p>返回值是一个整型表示成功读取到的数据量。
读取失败或者EOF文件结束都会停止。</p>
<p>默认情况下scanf不会吃掉行尾的回车，
需要让它吃掉行尾回车的话可以这样：</p>
<p>scanf(&quot;%d\n&quot;, &amp;num)</p>
<p>上面这句首先读了一个整型值给变量num，并且吃掉了后面的一个\n</p>
<p>当然这种搞法的缺陷在于只能用于Linux类型系统，
因为windows和Mac OS的回车符都不一样。</p>
</blockquote>
<p><strong>sscanf/fscanf</strong></p>
<blockquote>
<p>scanf的姊妹版本，分别读取字符串或者文件。</p>
<p>sscanf使用的时候加入第一个参数指定输入的源字符串。</p>
<p>fscanf使用的时候加入第一个参数指定输入的源文件指针。</p>
</blockquote>
<p><strong>fgets(buffer, size, source)</strong></p>
<blockquote>
<p>从输入源source中读入一行字符数据到buffer缓冲区中，最大长度为size。
超过size部分会被忽略。</p>
<p>buffer为一个char数组，size为整型值定义长度。</p>
<p>source可以为文件等，默认的终端标准输入(standard input)是这个： stdin</p>
<p>fgets与scanf混用的话由于scanf默认不吃掉行尾回车，会导致scanf之后fgets第一行没有内容。
处理方法就是上面说的改进版本scanf</p>
</blockquote>
<p><strong>fgetc(source)</strong></p>
<blockquote>
<p>从source中读取一个字符并返回。
注意返回值是int。</p>
<p>使用fgetc需要检查返回值不是EOF，然后再转换为char获取得到的值。</p>
</blockquote>
<p><strong>重定向版本的文件操作</strong></p>
<blockquote>
<p>从文件读取数据可以使用多种方法，
最简单的是输入重定向，
将stdin指向文件。</p>
<p>一、</p>
<p>freopen(&quot;filename&quot;, &quot;r&quot;, stdin);</p>
<p>将filename文件以读(r)方式打开，并重定向到stdin中。
后续的操作便可以直接scanf搞定。</p>
<p>同样，输出也可以这么搞：</p>
<p>freopen(&quot;outputfilename&quot;, &quot;w&quot;, stdout);</p>
<p>二、</p>
<p>此外，白书没有说的一种方式是直接在终端里运行程序的时候重定向。</p>
<p>./a.out &lt; data &gt; out</p>
<p>其中a.out是可执行文件，利用&lt;将data数据文件作为输入，利用&gt;将输出重定向到out文件</p>
<p>这种搞法的好处是随时可以指定输入输出，不用重新编译。</p>
</blockquote>
<p><strong>文件流版本的文件操作</strong></p>
<blockquote>
<p>标准的文件操作，包含打开文件、操作文件和关闭文件。</p>
<p>FILE * fin = fopen(&quot;filename&quot;, &quot;mode&quot;)</p>
<p>打开filename文件，mode可以为r或者w，加上b的话貌似是二进制方式操作。
返回值是一个FILE *类型的指针，指向打开的文件。</p>
<p>用fscanf替换scanf，添加第一个参数指定输入的文件指针，例如：</p>
<p>fscanf(fin, &quot;%d&quot;, &amp;num)</p>
<p>从fin这个FILE *中读取一个整型值给num变量</p>
<p>fgets的话直接就可以用了：</p>
<p>fgets(buf, size, fin)</p>
<p>最后记得关闭文件</p>
<p>fclose(fin)</p>
</blockquote>
<p><strong>printf/sprintf/fprintf</strong></p>
<blockquote>
相当那个scanf三兄弟，不再赘述。</blockquote>
</div>
<div class="section" id="id2">
<h2>标准库的一些方便的工具</h2>
<p><strong>cstring</strong></p>
<blockquote>
<p>字符串一类的操作就不用说了，strcmp啦strcpy啦strcat啦都非常方便。</p>
<p>此外strstr返回目标串中某子串最早出现位置的指针，有时能有奇效。</p>
<p>这里主要想记录的是两个内存操作的工具：</p>
<p>memset(void *ptr, int value, size_t size)</p>
<blockquote>
<p>查了相关的资料，memset是按字节操作的，虽然传入的value是一个int，
但处理的时候会被转换成unsigned char进行赋值。</p>
<p>因此处理字符数组是没有问题的，比如给一个字符数组刷二十个字符'a':</p>
<blockquote>
memset(target, 'a', 20)</blockquote>
<p>但是处理数字的时候就存在问题了，例如常用的int占四个字节，照着原理来讲0或者-1是可以的。
因为按照数字的储存方式（补码）来说，0的话所有位都是0，-1的话所有位都是1，
刚好绕过了int与byte之间的大小区别。
因此可以用memset刷int型数组：</p>
<blockquote>
memset(numAry, 0, sizeof(numAry)) //将数组的所有元素刷成0</blockquote>
<p>这里就需要注意刷的内存块的大小，
因为是按字节操作，因此总的大小应该是每个int的大小(sizeof(int))乘上需要刷的元素个数。</p>
</blockquote>
<p>memcpy(void *dis, void *source, size_t size)</p>
<blockquote>
<p>仍然是按字节操作，
从source指针指向的地址开始，
将size个字节复制，
存储到从dis指向的地址开始的后size个字节。</p>
<p>由于这货直接操某块内存，因此不仅能用于复制数组：</p>
<pre class="literal-block">
int ary1[] = {1,2,3,4,5};
int ary2[5];
memcpy(ary2, ary1, sizeof(int) * 5);
</pre>
<p>还能直接搞结构体：</p>
<pre class="literal-block">
struct MyStr{
    int num,
    char str[100]
};
MyStr str1, str2;
//...
memcpy(&amp;str2, &amp;str1, sizeof(str1));
</pre>
<p>注意要取址符。</p>
</blockquote>
</blockquote>
<p><strong>cctype</strong></p>
<blockquote>
<p>这货非常方便，拥有一堆检测的库函数。</p>
<p>常用的有以下几个：</p>
<pre class="literal-block">
isdigit:检测是否数字
isalpha:检测是否字母（含大小写）
isupper:检测是否大写字母
islower:检测是否小写字母
</pre>
<p>还有俩牛逼的货色：</p>
<pre class="literal-block">
toupper:将字母转换成大写
tolower:将字母转换成小写
</pre>
<p>博主比较懒，有时不检测就直接tolower操数据，
发现这货健壮性很好，数字什么的进去也就原样出来，不会死掉，方便！</p>
</blockquote>
<p><strong>cstdio</strong></p>
<blockquote>
<p>上面说的输入输出基本都是这个库的东西。</p>
<p>此外还有一个有用的函数：</p>
<blockquote>
feof(source)</blockquote>
<p>检测source源是否为EOF状态。
source可以是文件指针也可以是stdin。</p>
</blockquote>
<p><strong>cstdlib</strong></p>
<blockquote>
<p>这个用得多的是快排：</p>
<pre class="literal-block">
void qsort (void* base, size_t num, size_t size,
        int (*compar)(const void*,const void*));
</pre>
<p>然后在写这篇博文的时候发现居然还有这个：</p>
<pre class="literal-block">
void* bsearch (const void* key, const void* base,
               size_t num, size_t size,
              int (*compar)(const void*,const void*));
</pre>
<p>随机数，常用的，先用时间作为随机种子，然后用库函数获取随机值：</p>
<pre class="literal-block">
//首先需要包含ctime头文件
//然后将当前时间作为随机种子
srand(time(NULL));
//获取一个小于100的随机值
int randVal = rand() % 100
</pre>
<p>rand函数随机值的范围与库的实现有关，但可以保证最小值为0，最大值不小于32767的整数</p>
<p>越看越神奇，还有一堆字符串转换的函数，以后处理字符串都调标准库算了：
atoi, atof, atol......</p>
</blockquote>
<p>好多东西，记多也记不住，还是要多在实践中应用。</p>
<p>发现写博客的好处在于,当你要讲明白一个东西时，要花更多的时间去搞清楚这货的各个方面。
有时第一次使用的时候只是知道能这么用，但在写博客的时候却要弄清楚更深入一些的原理。
既有助于加深理解，也有助于整理思路。</p>
<p>不过博主整天只会写一些基础学习，东拼西凑再随便写点个人理解～ (=_=)</p>
<hr class="docutils" />
<p>最后，大年初一，大家新年快乐！ (^_^)</p>
</div>

                </div><!-- /.entry-content -->
        </article>
        <license>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
            <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/4.0/88x31.png" />
        </a>
        <br/>
        This work by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.scutlaoyi.tk" property="cc:attributionName" rel="cc:attributionURL">scutLaoYi</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
        </license>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-time"></i>time</h4></li>
<li><p id="pagetimer"></p></li>

<li class="nav-header"><h4><i class="icon-list-alt"></i>PAGE SENTENCE</h4></li>
<li>
<p id="page-sentence">
当你看到这句的时候，说明每页一句载入失败...烦请告知博主!谢谢!(^_^)
</p>
</li>
<script src="/add_ons/pagesentence/sentence.js"></script>
<script src="/add_ons/clock/clock.js"></script>
<script>
window.onload=function(){
      var pagetimer = document.getElementById("pagetimer");
      pagetimer.innerHTML = getcurrenttime();
  setInterval(function(){
      pagetimer.innerHTML = getcurrenttime();
      }, 1000);

    document.getElementById("page-sentence").innerHTML = generateSentence();
}
</script>
<li class="nav-header"><h4><i class="icon-external-link"></i>link</h4></li>
    <li><a href="http://github.com/scutlaoyi"><i class="icon-external-link"></i>my github</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<!--<li><a href="/" rel="alternate"><i
    class="icon-bookmark icon-large"></i>atom feed</a></li>-->
<li><a href="/feeds/all.rss.xml" rel="alternate"><i class="icon-bookmark icon-large"></i>rss feed</a></li>
    <li><a href=""><i class="icon--sign icon-large"></i></a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="/category/cpp.html">
    <i class="icon-folder-open icon-large"></i>Cpp
</a>
</li>
<li>
<a href="/category/git.html">
    <i class="icon-folder-open icon-large"></i>git
</a>
</li>
<li>
<a href="/category/life.html">
    <i class="icon-folder-open icon-large"></i>Life
</a>
</li>
<li>
<a href="/category/linux.html">
    <i class="icon-folder-open icon-large"></i>Linux
</a>
</li>
<li>
<a href="/category/mobile.html">
    <i class="icon-folder-open icon-large"></i>Mobile
</a>
</li>
<li>
<a href="/category/python.html">
    <i class="icon-folder-open icon-large"></i>Python
</a>
</li>
<li>
<a href="/category/tools.html">
    <i class="icon-folder-open icon-large"></i>Tools
</a>
</li>
<li>
<a href="/category/web.html">
    <i class="icon-folder-open icon-large"></i>web
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<li class="tag-1">
    <a href="/tag/recruitment.html">
        <i class="icon-tag icon-large"></i>recruitment
    </a>
</li>
<li class="tag-1">
    <a href="/tag/arch.html">
        <i class="icon-tag icon-large"></i>Arch
    </a>
</li>
<li class="tag-2">
    <a href="/tag/softwarearchitect.html">
        <i class="icon-tag icon-large"></i>SoftwareArchitect
    </a>
</li>
<li class="tag-2">
    <a href="/tag/bash.html">
        <i class="icon-tag icon-large"></i>Bash
    </a>
</li>
<li class="tag-2">
    <a href="/tag/socket.html">
        <i class="icon-tag icon-large"></i>socket
    </a>
</li>
<li class="tag-4">
    <a href="/tag/md5.html">
        <i class="icon-tag icon-large"></i>md5
    </a>
</li>
<li class="tag-2">
    <a href="/tag/github.html">
        <i class="icon-tag icon-large"></i>github
    </a>
</li>
<li class="tag-1">
    <a href="/tag/audition.html">
        <i class="icon-tag icon-large"></i>audition
    </a>
</li>
<li class="tag-2">
    <a href="/tag/git.html">
        <i class="icon-tag icon-large"></i>git
    </a>
</li>
<li class="tag-1">
    <a href="/tag/cc.html">
        <i class="icon-tag icon-large"></i>C/C++
    </a>
</li>
<li class="tag-4">
    <a href="/tag/litecoin.html">
        <i class="icon-tag icon-large"></i>litecoin
    </a>
</li>
<li class="tag-4">
    <a href="/tag/android.html">
        <i class="icon-tag icon-large"></i>Android
    </a>
</li>
<li class="tag-4">
    <a href="/tag/xss.html">
        <i class="icon-tag icon-large"></i>xss
    </a>
</li>
<li class="tag-1">
    <a href="/tag/data-structure.html">
        <i class="icon-tag icon-large"></i>data structure
    </a>
</li>
<li class="tag-3">
    <a href="/tag/vim.html">
        <i class="icon-tag icon-large"></i>Vim
    </a>
</li>
<li class="tag-1">
    <a href="/tag/python.html">
        <i class="icon-tag icon-large"></i>Python
    </a>
</li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>The theme is from <a href="http://twitter.github.com/bootstrap/">Bootstrap from Twitter <i class="icon-external-link"></i></a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome <i class="icon-external-link"></i></a>, thanks!</p>
      </footer>

    </div><!--/.fluid-container-->



    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/theme/js/jquery-1.7.2.min.js"></script>
    <script src="/theme/js/bootstrap.min.js"></script>
  </body>
</html>